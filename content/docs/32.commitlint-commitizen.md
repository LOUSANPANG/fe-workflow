---
title: 'Commitizen&Commitlint'
description: 'Commitizen&Commitlinté…ç½®ä½¿ç”¨æŒ‡å—'
---


# Commitizen & Commitlint


<!-- ::alert{type="info"}
commitlint commit ä¿¡æ¯æ ¡éªŒå·¥å…·
<br />
<br />
commitizen è¾…åŠ© commit ä¿¡æ¯, é€šè¿‡é€‰æ‹©è¾“å…¥, è§„èŒƒæäº¤ä¿¡æ¯
::


## å®‰è£…
```bash
# @commitlint/config-conventional é‡‡ç”¨ä»€ä¹ˆè§„èŒƒæ¥æ‰§è¡Œæ¶ˆæ¯æ ¡éªŒ, é»˜è®¤æ˜¯ Angular çš„æäº¤è§„èŒƒ
pnpm add commitlint @commitlint/config-conventional -D

# commit-msg é’©å­æ‰§è¡Œ æ¶ˆæ¯æ ¡éªŒ
npx husky add .husky/commit-msg 'npx --no-install commitlint --edit "$1"'
# ä¹Ÿå¯ä»¥é‡‡ç”¨è‡ªå·±å†™çš„æ–¹æ³•, æ¥æ ¡éªŒå†…å®¹
npx husky add .husky/commit-msg 'node [dir]/filename.js' # æŒ‡å®šç›®å½•æ–‡ä»¶

# å®‰è£…è¾…åŠ©æäº¤ä¾èµ–å’Œå‘½ä»¤è¡Œçš„å±•ç¤ºä¿¡æ¯
pnpm add commitizen cz-conventional-changelog -D
# ç¼–å†™commitæŒ‡ä»¤
npm set-script commit "git-cz" # package.json ä¸­æ·»åŠ  commit æŒ‡ä»¤, æ‰§è¡Œ `git-cz` æŒ‡ä»¤
# åˆå§‹åŒ– git-cz å‘½ä»¤è¡Œçš„é€‰é¡¹ä¿¡æ¯
npx commitizen init cz-conventional-changelog --save-dev --save-exact
```


## è‡ªå®šä¹‰æäº¤è§„èŒƒ
```bash
pnpm add commitlint-config-cz  cz-customizable -D
```

#### é…ç½® commitlint.config.js é‡‡ç”¨è‡ªå·±å®šä¹‰çš„è§„èŒƒ
```js
module.exports = {
  extends: ['cz'],
  rules: {}
}
```

#### é…ç½® .cz-config.js
```js
'use strict'
module.exports = {
  types: [
    { value: 'âœ¨æ–°å¢', name: 'æ–°å¢:    æ–°çš„å†…å®¹' },
    { value: 'ğŸ›ä¿®å¤', name: 'ä¿®å¤:    ä¿®å¤ä¸€ä¸ªBug' },
    { value: 'ğŸ“æ–‡æ¡£', name: 'æ–‡æ¡£:    å˜æ›´çš„åªæœ‰æ–‡æ¡£' },
    { value: 'ğŸ’„æ ¼å¼', name: 'æ ¼å¼:    ç©ºæ ¼, åˆ†å·ç­‰æ ¼å¼ä¿®å¤' },
    { value: 'â™»ï¸é‡æ„', name: 'é‡æ„:    ä»£ç é‡æ„ï¼Œæ³¨æ„å’Œç‰¹æ€§ã€ä¿®å¤åŒºåˆ†å¼€' },
    { value: 'âš¡ï¸æ€§èƒ½', name: 'æ€§èƒ½:    æå‡æ€§èƒ½' },
    { value: 'âœ…æµ‹è¯•', name: 'æµ‹è¯•:    æ·»åŠ ä¸€ä¸ªæµ‹è¯•' },
    { value: 'ğŸ”§å·¥å…·', name: 'å·¥å…·:    å¼€å‘å·¥å…·å˜åŠ¨(æ„å»ºã€è„šæ‰‹æ¶å·¥å…·ç­‰)' },
    { value: 'âªå›æ»š', name: 'å›æ»š:    ä»£ç å›é€€' }
  ],
  scopes: [
    { name: '' },
  ],
  // it needs to match the value for field type. Eg.: 'fix'
  /*  scopeOverrides: {
    fix: [
      {name: 'merge'},
      {name: 'style'},
      {name: 'e2eTest'},
      {name: 'unitTest'}
    ]
  },  */
  // override the messages, defaults are as follows
  messages: {
    type: 'é€‰æ‹©ä¸€ç§ä½ çš„æäº¤ç±»å‹:',
    scope: 'é€‰æ‹©ä¸€ä¸ªscope (å¯é€‰):',
    // used if allowCustomScopes is true
    customScope: 'Denote the SCOPE of this change:',
    subject: 'çŸ­è¯´æ˜:\n',
    body: 'é•¿è¯´æ˜ï¼Œä½¿ç”¨"|"æ¢è¡Œ(å¯é€‰)ï¼š\n',
    breaking: 'éå…¼å®¹æ€§è¯´æ˜ (å¯é€‰):\n',
    footer: 'å…³è”å…³é—­çš„issueï¼Œä¾‹å¦‚ï¼š#31, #34(å¯é€‰):\n',
    confirmCommit: 'ç¡®å®šæäº¤è¯´æ˜?(yes/no)'
  },
  allowCustomScopes: true,
  allowBreakingChanges: ['ç‰¹æ€§', 'ä¿®å¤'],
  // limit subject length
  subjectLimit: 100
}
```

#### package.json ä¸­, å°†åŸæ¥commité…ç½®, å˜æ›´ä¸ºè‡ªå®šä¹‰é…ç½®
```json
"config": {
  "commitizen": {
    "path": "node_modules/cz-customizable"
  }
}
```


## æµ‹è¯•è¿è¡Œ
```bash
npx husky add .husky/pre-push "npm test" # æäº¤ä»£ç å‰, è·‘ä¸€éæµ‹è¯•ç”¨ä¾‹
``` -->
