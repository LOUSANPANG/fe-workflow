---
title: 'Mock'
description: 'Mockå¼€å‘ä½¿ç”¨æŒ‡å—'
---


## MOCKæ–¹æ¡ˆ1ï¼šä½¿ç”¨æ¥å£ç®¡ç†å¹³å°

[apifox ğŸŒŸ](https://www.apifox.cn/?utm_source=zhihu&utm_medium=article_10001&utm_content=141425111){.doclink}

[easy-mock ğŸŒŸ](https://mock.presstime.cn/){.doclink}

[yapi æ¥å£æ–‡æ¡£](https://hellosean1025.github.io/yapi/documents/index.html){.doclink}

[Postman æ¥å£æµ‹è¯•](https://www.postman.com/){.doclink}




## MOCKæ–¹æ¡ˆ2ï¼šMockJs

[mock.js](http://mockjs.com/){.doclink}

<br />


### é…ç½® Mock ç¯å¢ƒ

```bash
# å®‰è£…
pnpm add -D mockjs
# OR
<script src="http://mockjs.com/dist/mock.js"></script>

# ç›®å½•
â”œâ”€mock
â”‚  â”œâ”€test
â”‚  â”‚  â””â”€index.ts
```


### ä½¿ç”¨

```js
// é…ç½® Mock
import Mock from 'mockjs'

const { newsList } = Mock.mock({
  'newsList|80': [{
    'id': '@increment()',
    'title': '@ctitle()',
    'date': '@date("yyyy-MM-dd")'
  }],
})

// æ•°æ®éšæœºè§„åˆ™ http://mockjs.com/examples.html
Mock.mock(/\/api\/news\/list/, 'get', (params) => {
  console.log(params.url) // '/api/news/list?pageSize=10&pageIndex=1'
  const pageIndex = getQuery(params.url, 'pageIndex')
  const pageSize = getQuery(params.url, 'pageSize')
  const start = (pageIndex - 1) * pageSize
  const end = pageIndex * pageSize
  const totalPage = Math.ceil(newsList.length / pageSize)
  const list = pageIndex > totalPage ? [] : newsList.slice(start, end)
 
  return {
    status: 200,
    list: list,
    total: newsList.length
    message: 'è·å–æ–°é—»åˆ—è¡¨æ•°æ®æˆåŠŸ'
  }
})

Mock.mock('/api/add/news', 'post', (params) => {
  console.log(params.body) // "{title:''}"
  const body = JSON.pase(params.body)
  newsList.push(Mock.mock({
    'id|+1': '@increment()',
    'title': body.title,
    'date': '@date("yyyy-MM-dd")'
  }))

  return {
    status: 200,
    list: newsList,
    total: newsList.length
    message: 'æ·»åŠ æ–°é—»æ•°æ®æˆåŠŸ'
  }
})

// ä½¿ç”¨
axios.get('/api/news/list', {
  params: { pageSize: 10, pageIndex: 1 }
})
  .then(res => console.log(res))

axios.post('/api/add/news', {
  title: '',
})
  .then(res => console.log(res))
```




## å…³äºæŠ“åŒ…å·¥å…·

[charles æŠ“åŒ…å·¥å…·](https://www.charlesproxy.com/){.doclink}

[whistle æŠ“åŒ…å·¥å…·](http://wproxy.org/whistle/){.doclink}
