---
title: 'GitSkills'
description: 'Git 实战技巧'
---


### 分支名

````bash
feature/xxx # 功能分支
bugfix/xxx # bug修复分支
hotfix/xxx # 紧急修复分支
release/xxx # 发布分支
```



### 工作区 & 暂存区 & 远程仓库

::alert{type="output"}
第一步是用git add把文件添加进去，实际上就是把文件修改从工作区添加到暂存区；
<br />
<br />

第二步是用git commit提交更改，实际上就是把暂存区的所有内容提交到当前分支；
<br />
<br />

第三部是用git push将变更的内容，推送到远程仓库；
::


### SSH 配置

```bash
ls -a ~/.ssh # 查找 .ssh
ssh-keygen -t rsa -C 'youremail@example.com' # 创建SSHKey (id_rsa私钥 id_rsa.pub公钥)
```


### vi 命令终端

```bash
$ 输入 i 进入编辑状态
$ 输入 esc 退出
$ 输入 :wq 保存退出

# 通过 rebase -i 弹出的 vi 命令
# 继续使用 rebase --continue
# 放中途想放弃rebase操作 rebase --abort
```


### 本地命令配置

```bash
git config --global # 查看全局 Git 配置
git config --list --show-origin # 查看所有配置以及它们所在的文件

git config --global user.name 'Your Name' # 用户级别配置用户名
git config --global user.email 'email@example.com'

git config --local user.name 'Your Name' # 仓库级别配置用户名
git config --local user.email 'email@example.com'

git config --global color.ui true # 配置颜色命令提醒
git config --global alias.ci commit # 配置commit别名
```


### 仓库状态检查

```bash
git diff <file> # 查看修改内容
git diff HEAD -- <file> # 查看工作区和版本库区别
git status # 查看当前仓库状态
```


### 查看日志

```bash
git log # 查看提交历史，包括所有分支和标签的提交记录
git log --oneline # 查看简约版历史记录
git log --graph # 查看分支合并图

git reflog # 查看 git 引用日志，查看 HEAD 移动和操作
```


### 分支

```bash
git branch # 查看分支
git branch <branch_name> # 创建分支
git checkout <branch_name>  ||  git switch <branch_name> # 切换分支
git checkout -b <branch_name>  ||  git switch -c <branch_name> # 创建并切换分支
git branch -d <branch_name> # 删除分支
git branch -D <branch_name> # 强行删除分支
git push origin --delete <branch_name> # 删除远程分支
```


### 本地 & 远程库

```bash
git remote -v # 查看远程库信息
git remote rm <origin> # 删除已有的远程库
git remote add github git@github.com:xxx.git # 关联github远程库
git push github master
```


### 暂存区存储 & 暂存区恢复

```bash
git stash # 把当前工作现场“储藏”起来

git stash pop # 恢复储藏内容

git stash list # 查看储存列表
git stash apply stash@{0} # 多次stash后，恢复指定的stash
```


### 撤销最近的一次合并

```bash
# 查看 Git 操作历史
$ git reflog

# 方式一：完全丢弃你的更改
$ git reset --hard HEAD~1
# 方式二：保留你的更改，并将它们移回工作区
$ git reset --soft HEAD~1

# 强制推送你的更改到远程仓库
$ git push -f origin <your-branch-name>
```


### 合并 commit

```bash
# 1、使用命令打开文本编辑器，会出现最近的commit历史(顶部为旧记录)
$ git rebase -i HEAD~2 # 合并最近两次commit
# 2、将需要合并的commit前面的pick改为s
# 3、保存退出 :wq
# 4、会出现一个新的文本编辑器，将需要合并的commit信息合并
# 5、保存退出 :wq
# 6、会出现冲突，可以强制push
$ git push -f
```


### 分支合并 merge & squash merge & rebase marge

```bash
$ git cherry-pick <commit_id> # 复制一个特定的提交到当前分支

# 合并方式一：merge
# merge 会把 合并前的分支 的提交历史原封不动的拷贝过来
$ git merge <branch_name> # 合并分支
$ git merge --no-ff -m <message> <branch_name> # 在合并分支时添加合并描述

# 合并方式二：squash merge 
# 压缩提交，把所有的改动合并放在本地，需要你再次手动执行git commit操作
# 这个commit是你产生的，不是原来dev分支上的开发人员产生的，提交者本身发生了变化
$ git merge --squash <branch_name>
$ git commit -m <message>
$ git push

# 合并方式三：rebase merge
# 保留提交的作者信息，同时可以合并commit历史
# 完美的解决了 squash merge 定位不到原开发者的问题
$ git checkout dev
$ git rebase -i master # 通过 vi 手动调整commit历史
$ git checkout master
$ git merge dev
```


### tag

```bash
git tag <tagname> # 新建标签
git tag <tagname> <commit_id> # 对应commit_id打标签
git tag -a <tagname> -m <message> # 指定标签信息

git tag # 查看所有标签
git push origin --tags # 推送全部未推送过的本地标签
git tag -d <tagname> + git push origin :refs/tags/<tagname> # 删除本地及远程标签
```

### 推送

```bash
git push origin <branch_name> # 推送本地到远程
git push -f # 强制push
```
