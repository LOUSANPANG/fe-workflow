{"_path":"/docs/build-vite","_dir":"docs","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"构建工具配置","description":"构建工具配置","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"构建工具-vite"},"children":[{"type":"text","value":"构建工具 Vite"}]},{"type":"element","tag":"code","props":{"code":"// https://vitejs.dev/config/\nimport { defineConfig } from 'vite'\nimport vue from '@vitejs/plugin-vue'\nimport { resolve } from 'path' // path 模块找不到，安装 pnpm add @types/node -D\n\n\nexport default defineConfig({\n  base: './', // 设置打包路径\n  server: {\n    port: 4000, // 设置服务启动端口号\n    open: true, // 设置服务启动时是否自动打开浏览器\n    cors: true // 允许跨域\n\n    // 设置代理，根据我们项目实际情况配置\n    proxy: {\n      '/api': {\n        target: 'http://xxx',\n        changeOrigin: true,\n        secure: false,\n        rewrite: (path) => path.replace('/api/', '/')\n      }\n    }\n  },\n\n  resolve: {\n    alias: {\n      '@': resolve(__dirname, 'src') // 设置 `@` 指向 `src` 目录\n    }\n  },\n\n  plugins: [\n    vue()\n  ],\n})\n","language":"ts","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4d3a8"},"children":[{"type":"text","value":"// https://vitejs.dev/config/"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ad5d40"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":" { defineConfig } "}]},{"type":"element","tag":"span","props":{"class":"ct-ad5d40"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-117642"},"children":[{"type":"text","value":"'vite'"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ad5d40"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":" vue "}]},{"type":"element","tag":"span","props":{"class":"ct-ad5d40"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-117642"},"children":[{"type":"text","value":"'@vitejs/plugin-vue'"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ad5d40"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":" { resolve } "}]},{"type":"element","tag":"span","props":{"class":"ct-ad5d40"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-117642"},"children":[{"type":"text","value":"'path'"}]},{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a4d3a8"},"children":[{"type":"text","value":"// path 模块找不到，安装 pnpm add @types/node -D"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ad5d40"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-5db10c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ad5d40"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-5db10c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d31df7"},"children":[{"type":"text","value":"defineConfig"}]},{"type":"element","tag":"span","props":{"class":"ct-5db10c"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5db10c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":"base: "}]},{"type":"element","tag":"span","props":{"class":"ct-117642"},"children":[{"type":"text","value":"'./'"}]},{"type":"element","tag":"span","props":{"class":"ct-5db10c"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-a4d3a8"},"children":[{"type":"text","value":"// 设置打包路径"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5db10c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":"server: {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":"    port: "}]},{"type":"element","tag":"span","props":{"class":"ct-192495"},"children":[{"type":"text","value":"4000"}]},{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-a4d3a8"},"children":[{"type":"text","value":"// 设置服务启动端口号"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":"    open: "}]},{"type":"element","tag":"span","props":{"class":"ct-192495"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-a4d3a8"},"children":[{"type":"text","value":"// 设置服务启动时是否自动打开浏览器"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":"    cors: "}]},{"type":"element","tag":"span","props":{"class":"ct-192495"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a4d3a8"},"children":[{"type":"text","value":"// 允许跨域"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a4d3a8"},"children":[{"type":"text","value":"// 设置代理，根据我们项目实际情况配置"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":"    proxy: {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-117642"},"children":[{"type":"text","value":"'/api'"}]},{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":"        target: "}]},{"type":"element","tag":"span","props":{"class":"ct-117642"},"children":[{"type":"text","value":"'http://xxx'"}]},{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":"        changeOrigin: "}]},{"type":"element","tag":"span","props":{"class":"ct-192495"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":"        secure: "}]},{"type":"element","tag":"span","props":{"class":"ct-192495"},"children":[{"type":"text","value":"false"}]},{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-d31df7"},"children":[{"type":"text","value":"rewrite"}]},{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":": ("}]},{"type":"element","tag":"span","props":{"class":"ct-5db10c"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-ad5d40"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":" path."}]},{"type":"element","tag":"span","props":{"class":"ct-d31df7"},"children":[{"type":"text","value":"replace"}]},{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-117642"},"children":[{"type":"text","value":"'/api/'"}]},{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-117642"},"children":[{"type":"text","value":"'/'"}]},{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":"      }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":"  }"}]},{"type":"element","tag":"span","props":{"class":"ct-5db10c"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5db10c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":"resolve: {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":"    alias: {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-117642"},"children":[{"type":"text","value":"'@'"}]},{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-d31df7"},"children":[{"type":"text","value":"resolve"}]},{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":"(__dirname, "}]},{"type":"element","tag":"span","props":{"class":"ct-117642"},"children":[{"type":"text","value":"'src'"}]},{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-a4d3a8"},"children":[{"type":"text","value":"// 设置 `@` 指向 `src` 目录"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":"  }"}]},{"type":"element","tag":"span","props":{"class":"ct-5db10c"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5db10c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":"plugins: ["}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d31df7"},"children":[{"type":"text","value":"vue"}]},{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-68c756"},"children":[{"type":"text","value":"  ]"}]},{"type":"element","tag":"span","props":{"class":"ct-5db10c"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5db10c"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-192495{color:#6CB6FF}\n.ct-d31df7{color:#DCBDFB}\n.ct-5db10c{color:#F69D50}\n.ct-117642{color:#96D0FF}\n.ct-68c756{color:#ADBAC7}\n.ct-ad5d40{color:#F47067}\n.ct-a4d3a8{color:#768390}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:docs:203.build-vite.md","_source":"content","_file":"docs/203.build-vite.md","_extension":"md"}