{"_path":"/docs/mock","_dir":"docs","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Mock","description":"Mock开发使用指南","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"mock"},"children":[{"type":"text","value":"Mock"}]},{"type":"element","tag":"h2","props":{"id":"mock方案1使用接口管理平台"},"children":[{"type":"text","value":"MOCK方案1：使用接口管理平台，"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"class":"doclink","href":"https://www.apifox.cn/?utm_source=zhihu&utm_medium=article_10001&utm_content=141425111","rel":["nofollow"]},"children":[{"type":"text","value":"apifox 🌟"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"class":"doclink","href":"https://mock.presstime.cn/","rel":["nofollow"]},"children":[{"type":"text","value":"easy-mock 🌟"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"class":"doclink","href":"https://hellosean1025.github.io/yapi/documents/index.html","rel":["nofollow"]},"children":[{"type":"text","value":"yapi 接口文档"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"class":"doclink","href":"https://swagger.io/","rel":["nofollow"]},"children":[{"type":"text","value":"Swagger 接口文档"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"class":"doclink","href":"https://www.postman.com/","rel":["nofollow"]},"children":[{"type":"text","value":"Postman 接口测试"}]}]},{"type":"element","tag":"h2","props":{"id":"mock方案2手动-mock-模拟并拦截-ajax-请求"},"children":[{"type":"text","value":"MOCK方案2：手动 Mock 模拟并拦截 Ajax 请求"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"class":"doclink","href":"http://mockjs.com/","rel":["nofollow"]},"children":[{"type":"text","value":"mock.js"}]}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"h4","props":{"id":"配置-mock-环境"},"children":[{"type":"text","value":"配置 Mock 环境"}]},{"type":"element","tag":"code","props":{"code":"# 安装\npnpm add -D mockjs\n# OR\n<script src=\"http://mockjs.com/dist/mock.js\"></script>\n\n# 目录\n├─mock\n│  ├─test\n│  │  └─index.ts\n","language":"bash","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-46d777"},"children":[{"type":"text","value":"# 安装"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-41f3fa"},"children":[{"type":"text","value":"pnpm"}]},{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8a166c"},"children":[{"type":"text","value":"add"}]},{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1b4dc4"},"children":[{"type":"text","value":"-D"}]},{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8a166c"},"children":[{"type":"text","value":"mockjs"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-46d777"},"children":[{"type":"text","value":"# OR"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-918ac4"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":"script src"}]},{"type":"element","tag":"span","props":{"class":"ct-918ac4"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-8a166c"},"children":[{"type":"text","value":"\"http://mockjs.com/dist/mock.js\""}]},{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":"><"}]},{"type":"element","tag":"span","props":{"class":"ct-8a166c"},"children":[{"type":"text","value":"/scrip"}]},{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":"t"}]},{"type":"element","tag":"span","props":{"class":"ct-918ac4"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-46d777"},"children":[{"type":"text","value":"# 目录"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-41f3fa"},"children":[{"type":"text","value":"├─mock"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-41f3fa"},"children":[{"type":"text","value":"│"}]},{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-8a166c"},"children":[{"type":"text","value":"├─test"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-41f3fa"},"children":[{"type":"text","value":"│"}]},{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-8a166c"},"children":[{"type":"text","value":"│"}]},{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-8a166c"},"children":[{"type":"text","value":"└─index.ts"}]}]}]}]}]},{"type":"element","tag":"h4","props":{"id":"使用"},"children":[{"type":"text","value":"使用"}]},{"type":"element","tag":"code","props":{"code":"// 配置 Mock\nimport Mock from 'mockjs'\n\n// 数据随机规则 http://mockjs.com/examples.html\nMock.mock('/api/news/list', 'get', () => {\n  status: 200,\n  'data|1-10': [{\n    'id|+1': 1,\n    'title': '@string',\n    'date': 'Mock.Random.date(\"yyyy-MM-dd\")'\n  }],\n  message: '获取新闻列表数据成功'\n})\n\n// 使用\naxios.get('/api/news/list')\n  .then(res => console.log(res))\n","language":"js","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-46d777"},"children":[{"type":"text","value":"// 配置 Mock"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-918ac4"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":" Mock "}]},{"type":"element","tag":"span","props":{"class":"ct-918ac4"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8a166c"},"children":[{"type":"text","value":"'mockjs'"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-46d777"},"children":[{"type":"text","value":"// 数据随机规则 http://mockjs.com/examples.html"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":"Mock."}]},{"type":"element","tag":"span","props":{"class":"ct-a4ae62"},"children":[{"type":"text","value":"mock"}]},{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-8a166c"},"children":[{"type":"text","value":"'/api/news/list'"}]},{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-8a166c"},"children":[{"type":"text","value":"'get'"}]},{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":", () "}]},{"type":"element","tag":"span","props":{"class":"ct-918ac4"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-41f3fa"},"children":[{"type":"text","value":"status"}]},{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-1b4dc4"},"children":[{"type":"text","value":"200"}]},{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-8a166c"},"children":[{"type":"text","value":"'data|1-10'"}]},{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":": [{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-8a166c"},"children":[{"type":"text","value":"'id|+1'"}]},{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-1b4dc4"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-8a166c"},"children":[{"type":"text","value":"'title'"}]},{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-8a166c"},"children":[{"type":"text","value":"'@string'"}]},{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-8a166c"},"children":[{"type":"text","value":"'date'"}]},{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-8a166c"},"children":[{"type":"text","value":"'Mock.Random.date(\"yyyy-MM-dd\")'"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":"  }],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-41f3fa"},"children":[{"type":"text","value":"message"}]},{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-8a166c"},"children":[{"type":"text","value":"'获取新闻列表数据成功'"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":"})"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-46d777"},"children":[{"type":"text","value":"// 使用"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":"axios."}]},{"type":"element","tag":"span","props":{"class":"ct-a4ae62"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-8a166c"},"children":[{"type":"text","value":"'/api/news/list'"}]},{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":"  ."}]},{"type":"element","tag":"span","props":{"class":"ct-a4ae62"},"children":[{"type":"text","value":"then"}]},{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-41f3fa"},"children":[{"type":"text","value":"res"}]},{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-918ac4"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":" console."}]},{"type":"element","tag":"span","props":{"class":"ct-a4ae62"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-b8db2f"},"children":[{"type":"text","value":"(res))"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"charles-抓包工具"},"children":[{"type":"text","value":"charles 抓包工具"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"class":"doclink","href":"https://www.charlesproxy.com/","rel":["nofollow"]},"children":[{"type":"text","value":"charles 抓包工具"}]}]},{"type":"element","tag":"h4","props":{"id":"charles-设置成系统代理"},"children":[{"type":"text","value":"Charles 设置成系统代理"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"菜单 Proxy –> macOS Proxy"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"默认情况下无法截取 Chrome 和 Firefox 浏览器的网络通讯内容。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"如果你需要截取的话，在 Chrome 中设置成使用系统的代理服务器设置即可，或者直接将代理服务器设置成 127.0.0.1:8888 也可达到相同效果。"}]}]},{"type":"element","tag":"h4","props":{"id":"iphone-手机上的网络封包"},"children":[{"type":"text","value":"iPhone 手机上的网络封包"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"菜单 Proxy –> Proxy Settings"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"填入代理端口 8888"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"勾上 \"Enable transparent HTTP proxying\""}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"菜单 Help –> Local IP Address，复制 IP 地址"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"iPhone 的 设置 –> 无线局域网，当前连接的 wifi 名，通过点击右边的详情键，最下边 HTTP 代理切换成手动，填上 Charles 运行所在的电脑的 IP，以及端口号 8888"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Allow Charles 请求连接"}]}]},{"type":"element","tag":"h4","props":{"id":"其他"},"children":[{"type":"text","value":"其他"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"支持重发网络请求，方便后端调试"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"支持修改网络请求参数"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"支持网络请求的截获并动态修改"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"支持模拟慢速网络"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Structure 视图将网络请求按访问的域名分类"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Sequence 视图将网络请求按访问的时间排序"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Map 功能适合长期地将某一些请求重定向到另一个网络地址或本地文件"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Rewrite 功能适合对网络请求进行一些正则替换"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Breakpoints 功能适合做一些临时性的修改"}]}]},{"type":"element","tag":"h2","props":{"id":"whistle-抓包工具"},"children":[{"type":"text","value":"whistle 抓包工具"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"class":"doclink","href":"http://wproxy.org/whistle/","rel":["nofollow"]},"children":[{"type":"text","value":"whistle 抓包工具"}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-a4ae62{color:#DCBDFB}\n.ct-918ac4{color:#F47067}\n.ct-1b4dc4{color:#6CB6FF}\n.ct-8a166c{color:#96D0FF}\n.ct-b8db2f{color:#ADBAC7}\n.ct-41f3fa{color:#F69D50}\n.ct-46d777{color:#768390}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"mock方案1使用接口管理平台","depth":2,"text":"MOCK方案1：使用接口管理平台，"},{"id":"mock方案2手动-mock-模拟并拦截-ajax-请求","depth":2,"text":"MOCK方案2：手动 Mock 模拟并拦截 Ajax 请求"},{"id":"charles-抓包工具","depth":2,"text":"charles 抓包工具"},{"id":"whistle-抓包工具","depth":2,"text":"whistle 抓包工具"}]}},"_type":"markdown","_id":"content:docs:54.mock.md","_source":"content","_file":"docs/54.mock.md","_extension":"md"}