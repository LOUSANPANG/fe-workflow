{"_path":"/docs/build-vite","_dir":"docs","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"构建工具配置","description":"构建工具配置","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"构建工具-vite"},"children":[{"type":"text","value":"构建工具 Vite"}]},{"type":"element","tag":"code","props":{"className":["language-ts"],"code":"// https://vitejs.dev/config/\nimport { defineConfig } from 'vite'\nimport vue from '@vitejs/plugin-vue'\nimport { resolve } from 'path' // path 模块找不到，安装 pnpm add @types/node -D\n\n\nexport default defineConfig({\n  base: './', // 设置打包路径\n  server: {\n    port: 4000, // 设置服务启动端口号\n    open: true, // 设置服务启动时是否自动打开浏览器\n    cors: true // 允许跨域\n\n    // 设置代理，根据我们项目实际情况配置\n    proxy: {\n      '/api': {\n        target: 'http://xxx',\n        changeOrigin: true,\n        secure: false,\n        rewrite: (path) => path.replace('/api/', '/')\n      }\n    }\n  },\n\n  resolve: {\n    alias: {\n      '@': resolve(__dirname, 'src') // 设置 `@` 指向 `src` 目录\n    }\n  },\n\n  plugins: [\n    vue()\n  ],\n})\n","language":"ts","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-818532"},"children":[{"type":"text","value":"// https://vitejs.dev/config/\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-560933"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":" { defineConfig } "}]},{"type":"element","tag":"span","props":{"class":"ct-560933"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-194884"},"children":[{"type":"text","value":"'vite'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-560933"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":" vue "}]},{"type":"element","tag":"span","props":{"class":"ct-560933"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-194884"},"children":[{"type":"text","value":"'@vitejs/plugin-vue'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-560933"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":" { resolve } "}]},{"type":"element","tag":"span","props":{"class":"ct-560933"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-194884"},"children":[{"type":"text","value":"'path'"}]},{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-818532"},"children":[{"type":"text","value":"// path 模块找不到，安装 pnpm add @types/node -D\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-560933"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-260919"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-560933"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-260919"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-238896"},"children":[{"type":"text","value":"defineConfig"}]},{"type":"element","tag":"span","props":{"class":"ct-260919"},"children":[{"type":"text","value":"({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-260919"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":"base: "}]},{"type":"element","tag":"span","props":{"class":"ct-194884"},"children":[{"type":"text","value":"'./'"}]},{"type":"element","tag":"span","props":{"class":"ct-260919"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-818532"},"children":[{"type":"text","value":"// 设置打包路径\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-260919"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":"server: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":"    port: "}]},{"type":"element","tag":"span","props":{"class":"ct-805492"},"children":[{"type":"text","value":"4000"}]},{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-818532"},"children":[{"type":"text","value":"// 设置服务启动端口号\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":"    open: "}]},{"type":"element","tag":"span","props":{"class":"ct-805492"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-818532"},"children":[{"type":"text","value":"// 设置服务启动时是否自动打开浏览器\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":"    cors: "}]},{"type":"element","tag":"span","props":{"class":"ct-805492"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-818532"},"children":[{"type":"text","value":"// 允许跨域\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-818532"},"children":[{"type":"text","value":"// 设置代理，根据我们项目实际情况配置\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":"    proxy: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-194884"},"children":[{"type":"text","value":"'/api'"}]},{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":": {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":"        target: "}]},{"type":"element","tag":"span","props":{"class":"ct-194884"},"children":[{"type":"text","value":"'http://xxx'"}]},{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":"        changeOrigin: "}]},{"type":"element","tag":"span","props":{"class":"ct-805492"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":"        secure: "}]},{"type":"element","tag":"span","props":{"class":"ct-805492"},"children":[{"type":"text","value":"false"}]},{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-238896"},"children":[{"type":"text","value":"rewrite"}]},{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":": ("}]},{"type":"element","tag":"span","props":{"class":"ct-260919"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-560933"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":" path."}]},{"type":"element","tag":"span","props":{"class":"ct-238896"},"children":[{"type":"text","value":"replace"}]},{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-194884"},"children":[{"type":"text","value":"'/api/'"}]},{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-194884"},"children":[{"type":"text","value":"'/'"}]},{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":"      }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":"  }"}]},{"type":"element","tag":"span","props":{"class":"ct-260919"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{"class":"ct-260919"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":"resolve: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":"    alias: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-194884"},"children":[{"type":"text","value":"'@'"}]},{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-238896"},"children":[{"type":"text","value":"resolve"}]},{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":"(__dirname, "}]},{"type":"element","tag":"span","props":{"class":"ct-194884"},"children":[{"type":"text","value":"'src'"}]},{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-818532"},"children":[{"type":"text","value":"// 设置 `@` 指向 `src` 目录\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":"  }"}]},{"type":"element","tag":"span","props":{"class":"ct-260919"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":30},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":31},"children":[{"type":"element","tag":"span","props":{"class":"ct-260919"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":"plugins: [\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":32},"children":[{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-238896"},"children":[{"type":"text","value":"vue"}]},{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":33},"children":[{"type":"element","tag":"span","props":{"class":"ct-753911"},"children":[{"type":"text","value":"  ]"}]},{"type":"element","tag":"span","props":{"class":"ct-260919"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":34},"children":[{"type":"element","tag":"span","props":{"class":"ct-260919"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-818532{color:#768390;}\n.ct-560933{color:#F47067;}\n.ct-753911{color:#ADBAC7;}\n.ct-194884{color:#96D0FF;}\n.ct-260919{color:#F69D50;}\n.ct-238896{color:#DCBDFB;}\n.ct-805492{color:#6CB6FF;}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:docs:203.build-vite.md","_source":"content","_file":"docs/203.build-vite.md","_extension":"md"}